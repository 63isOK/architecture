# 微服务架构模式

微服务架构正在业界迅速普及,她是单个应用的代替品,特点是面向服务.
微服务架构还在发展中,这次只是提及关键的概念.

## 模式描述

不论是何种拓扑何种实现,有几个概念是通用的.

独立部署单元,第一个概念.
微服务的每个组件都是一个独立的部署单元,
简化交付,高可伸缩性,高级别应用,组件松耦合,都是其特点.

服务组件是最核心的概念.组件可以大到一个程序,
可以小到一个模块,颗粒度很自由.
服务组件可以包含一个或多个模块,模块可以是单个功能函数,
也可以是大型业务程序中的一部分.

服务组件的颗粒度是微服务设计架构的挑战问题,
近期的说法是尽量小且独立.

分布式架构是另一个概念.意味着服务组件的松耦合,
意味着可扩展性和某些部署特性.

微服务架构是从问题演变而来,不是先有解决方案后有问题.
微服务架构来至两方面:单应用使用分层架构模式;
分布式程序使用面向服务的架构模式.

单应用到微服务是cd(持续交付)的促进,
单应用普遍是紧凑的,单个部署单元,
变更/测试/部署麻烦且困难,"月级部署"就是说的这种窘境.
这些因素会导致脆弱的程序,每次部署一些新东西都可能中断.
微服务通过将程序分为多个部署单元来解决这个问题,
额外的好处是开发/测试/部署独立.

面向服务的架构 service-oriented architecture pattern(SOA),
soa提供了强大的抽象/异构连接/服务编排/并承诺业务目标和it能力一致,
出了这些,还有复杂/昂贵/无处不在/难以理解和实现,
多大多数程序来说,体量过大了.
微服务针对问题,简化了很多,具体是提出了服务的概念,
消除了服务编排需求,简化了服务组件的连接和访问.

## 服务拓扑

微服务的实现方式有几十种,有3种拓扑是最常见也是最受欢迎的:

- 基于rest api的拓扑
- 基于rest 应用的拓扑
- 集中式消息拓扑

rest api拓扑,非常适合网站站点,
